{% extends 'layout.html' %}

{% block title %}Customer{% endblock %}

{% block content %}

{% with msg = get_flashed_messages() %}
  {% if msg %}
        {{ msg }}
  {% endif %}
{% endwith %}

{% if user_role == 'admin' %}
    <a href="{{ url_for('add_user_page', type='customer')}}" class="btn btn-primary">Add Customer</a>
{% endif %}

<table class="table table-striped mt-5 text-center">
    <tr><th>Customer ID</th><th>Username</th><th>Customer Name</th><th>Email</th><th>Phone Number</th><th>Country</th>
        {% if user_role == 'admin' %}
        <th>Action</th>
        {% endif %}
    </tr>
    {% for customer in customer_list %}
        <tr>
                <td>{{customer['CustomerID']}}</td>
                <td><a href="/profile/{{customer['UserID']}}">{{customer['UserName']}}</a></td>
                <td><a href="/profile/{{customer['UserID']}}">{{customer['FirstName']}} {{customer['LastName']}}</a></td>
                <td>{{customer['Email']}}</td>
                <td>{{customer['PhoneNumber']}}</td>
                <td>{{customer['Country']}}</td>
                {% if user_role == 'admin' %}
                <td>
                    <a href="{{ url_for('edit_user', userid=customer['UserID'], type='customer')}}">Edit</a>
                    <a href="/delete/user/{{customer['UserID']}}">Delete</a>
                </td>
                {% endif %}
        </tr>
    {% endfor %}
</table>





{% endblock %}